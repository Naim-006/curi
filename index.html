<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake Game</title>
    <style>
        body {
            background-color: #f8f8f8;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #FFD700;
        }

        #header {
            background-color: #333;
            color: #f4f3f3;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        #header h1 {
            color: crimson;
            font-size: 32px;
            margin: 0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        #topContent {
            background-color: #FFD700;
            padding: 15px;
            text-align: center;
            width: 70%;
            margin-left: 12%;
            border-radius: 10px;
        }

        #info {
            background-color: #fff;
            padding: 20px;
            border-bottom: 2px solid #ddd;
            border-radius: 10px;
        }

        #directionButtons {
            text-align: center;
            margin-top: 10px;
        }

        .directionButton {
            margin: 15px;
            padding: 15px 25px;
            font-size: 20px;
            cursor: pointer;
            border: 1px solid #999;
            border-radius: 5px;
            background-color: #f1f1f1;
            transition: background-color 0.3s, color 0.3s;
        }

        .directionButton:hover {
            background-color: #9c9898;
            color: #333;
        }

        p1 {
            color: silver;
        }

        canvas {
            display: block;
            margin: 0 auto;
            border: 10px solid #dbd4d4;
            border-radius: 10px;
            background-color: #666;
        }

        #developer {
            background-color: #333;
            color: #fff;
            padding: 20px;
            text-align: center;
            margin-top: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            animation: developer-animation 1s infinite;
        }

        #developer a {
            color: #fff;
            text-decoration: none;
            font-weight: bold;
            transition: color 0.3s;
        }

        #developer a:hover {
            color: #819b66;
        }

        @keyframes developer-animation {
            0% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-5px);
            }
            100% {
                transform: translateY(0);
            }
        }
        #info{
            font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
            text-align: left;
            margin-left: 20px;
        }
        h2{
            color:crimson;
            font-family:Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
        }
    </style>
</head>
<body>


<div id="topContent">
    <h2>Collect poop with the snake!</h2>
    <div id="info">
        <p>Score: <span id="score">0</span></p>
        <p>High Score: <span id="highScore">0</span></p>
        <p>Last Scores: <span id="lastScores"></span></p>
        <label for="speed">Snake Speed:</label>
        <input type="range" id="speed" min="1" max="20" value="10">
    </div>
    
</div>


<canvas id="gameCanvas" width="600" height="400"></canvas>

<div id="directionButtons">
    <button class="directionButton" id="upButton">▲</button>
    <button class="directionButton" id="leftButton">◀</button>
    <button class="directionButton" id="rightButton">▶</button>
    <button class="directionButton" id="downButton">▼</button>
</div>

<div id="developer">
    <p1><a href="developer.html">DEVELOPER INFO</a></p1>
</div>

<script>
    const CELL_SIZE = 20;
    const GRID_WIDTH = 600 / CELL_SIZE;
    const GRID_HEIGHT = 400 / CELL_SIZE;

    let snake = {
        body: [{ x: GRID_WIDTH / 2, y: GRID_HEIGHT / 2 }],
        direction: "RIGHT",
        grow: false
    };

    let food = { x: 0, y: 0 };

    let gameCanvas = document.getElementById("gameCanvas");
    let ctx = gameCanvas.getContext("2d");

    let score = 0;
    let highScore = localStorage.getItem("highScore") || 0;
    let lastScores = [];
    const MAX_LAST_SCORES = 3;

    let snakeSpeed = 10;
    let gameLoop;

    let foodImg = new Image();
    foodImg.src = "https://i.pinimg.com/originals/ea/7b/12/ea7b12995b3891440f2af71a9d76a81c.png"; // Replace with the path to your food image

    let snakeHeadImg = new Image();
    snakeHeadImg.src = "https://i.imgur.com/9tJwncM.pnghttps://c8.alamy.com/comp/DJ5DT9/anatomical-model-of-a-snake-head-DJ5DT9.jpg"; // Replace with the path to your snake head image

    function drawSnake() {
        snake.body.forEach(segment => {
            let x = segment.x * CELL_SIZE;
            let y = segment.y * CELL_SIZE;
            ctx.fillStyle = "white"; // Changed color to white
            ctx.beginPath();
            ctx.arc(x + CELL_SIZE / 2, y + CELL_SIZE / 2, CELL_SIZE / 2, 0, Math.PI * 2);
            ctx.fill();
        });
    }

    function drawFood() {
        ctx.drawImage(foodImg, food.x * CELL_SIZE, food.y * CELL_SIZE, CELL_SIZE, CELL_SIZE);
    }

    function moveSnake() {
        let head = { x: snake.body[0].x, y: snake.body[0].y };

        switch (snake.direction) {
            case "UP":
                head.y -= 1;
                if (head.y < 0) head.y = GRID_HEIGHT - 1;
                break;
            case "DOWN":
                head.y += 1;
                if (head.y >= GRID_HEIGHT) head.y = 0;
                break;
            case "LEFT":
                head.x -= 1;
                if (head.x < 0) head.x = GRID_WIDTH - 1;
                break;
            case "RIGHT":
                head.x += 1;
                if (head.x >= GRID_WIDTH) head.x = 0;
                break;
        }

        if (isSnakeCollision(head)) {
            clearInterval(gameLoop);
            if (score > highScore) {
                highScore = score;
                localStorage.setItem("highScore", highScore);
                document.getElementById("highScore").textContent = highScore;
            }
            alert("Game Over! Your Score: " + score);
            recordScore(score);
            reloadGame();
            return;
        }

        snake.body.unshift(head);

        if (head.x === food.x && head.y === food.y) {
            snake.grow = true;
            score++;
            document.getElementById("score").textContent = score;
            generateFood();
        } else if (!snake.grow) {
            snake.body.pop();
        } else {
            snake.grow = false;
        }
    }

    function generateFood() {
        food.x = Math.floor(Math.random() * GRID_WIDTH);
        food.y = Math.floor(Math.random() * GRID_HEIGHT);
    }

    function isSnakeCollision(head) {
        return snake.body.slice(1).some(segment => segment.x === head.x && segment.y === head.y);
    }

    function update() {
        ctx.clearRect(0, 0, gameCanvas.width, gameCanvas.height);
        moveSnake();
        drawSnake();
        drawFood();
    }

    function handleKeyPress(event) {
        switch (event.key) {
            case "ArrowUp":
                if (snake.direction !== "DOWN")
                    snake.direction = "UP";
                break;
            case "ArrowDown":
                if (snake.direction !== "UP")
                    snake.direction = "DOWN";
                break;
            case "ArrowLeft":
                if (snake.direction !== "RIGHT")
                    snake.direction = "LEFT";
                break;
            case "ArrowRight":
                if (snake.direction !== "LEFT")
                    snake.direction = "RIGHT";
                break;
        }
    }

    function reloadGame() {
        score = 0;
        document.getElementById("score").textContent = score;
        snake = {
            body: [{ x: GRID_WIDTH / 2, y: GRID_HEIGHT / 2 }],
            direction: "RIGHT",
            grow: false
        };
        generateFood();
        clearInterval(gameLoop);
        gameLoop = setInterval(update, 1000 / snakeSpeed);
    }

    function recordScore(score) {
        lastScores.unshift(score);
        if (lastScores.length > MAX_LAST_SCORES) {
            lastScores.pop();
        }
        let lastScoresText = lastScores.join(", ");
        document.getElementById("lastScores").textContent = lastScoresText;
    }

    window.addEventListener("keydown", handleKeyPress);

    document.getElementById("speed").addEventListener("input", function () {
        snakeSpeed = parseInt(this.value);
        clearInterval(gameLoop);
        gameLoop = setInterval(update, 1000 / snakeSpeed);
    });

    document.getElementById("highScore").textContent = highScore;
    reloadGame();
</script>
</body>
</html>
